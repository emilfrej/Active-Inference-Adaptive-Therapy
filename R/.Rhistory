from=min(d_sim_processed$age_std) , to=max(d_sim_processed$age_std) , add=TRUE ,
col=col.alpha("red" , 0.2) )
# printing the implied conditional independencies
impliedConditionalIndependencies( dag1.1 )
cor(d_sim_processed$age_std, d_sim_processed$gender)
coefficient_m1.2 <- extract_post_ulam( m1.2 )
#extract alphas from sampled coefficients
alphas <- coefficient_m1.2$a %>%
#turn into dataframe
data.frame() %>%
#pivot into long format so there is only one row of alphas
pivot_longer(cols = everything(), names_to = "gen_class_index", values_to = "alphas") %>%
#remove X from strings
mutate(gen_class_index = str_remove(gen_class_index, "X")) %>%
mutate(gen_class_index = as.numeric(gen_class_index))
#do the same for betas
betas <- coefficient_m1.2$b %>%
data.frame() %>%
pivot_longer(cols = everything(), names_to = "gen_class_index", values_to = "betas") %>%
mutate(gen_class_index = str_remove(gen_class_index, "X")) %>%
mutate(gen_class_index = as.numeric(gen_class_index))
#merge alphas and betas (without gen_class_index) into one dataframe
regression_lines_m1.2 <- cbind(alphas, betas$betas) %>%
#rename
rename(betas = 'betas$betas')
#Turn gen_class_index into a factor
regression_lines_m1.2 <- regression_lines_m1.2 %>%
mutate(gen_class_index = as.factor(gen_class_index))
levels(regression_lines_m1.2$gen_class_index) <- c("Men First Class", "Men Second Class", "Men Third Class", "Women First Class", "Women Second Class", "Women Third Class")
ggplot(regression_lines_m1.2, aes(color = gen_class_index)) +
geom_abline(aes(intercept = alphas, slope = betas, color = gen_class_index), alpha = 0.1 ) +
xlim(-5,5)+
ylim(-5,5)+
facet_wrap(~gen_class_index) +
labs(title = "Sampled Regression Lines",
x = "Age Std",
y = "Logodds of Surviving") +
#remove the legend
theme_minimal() +
theme(legend.position = "none")
# pre-processing variables
d_processed <- data.frame(
survived = as.numeric(d$Survived) - 1 ,
gender = as.numeric(d$is_female) , # gender coded as 1 (male) or 2 (female)
class = as.numeric(d$Pclass) ,
age_std = standardize(d$Age)
)
# making the gen_class_index variable and adding to the processed data frame
d_processed$gen_class_index <- ifelse( d_processed$gender == 1 , d_processed$gender * d_processed$class , (d_processed$gender-1) * d_processed$class + 3 )
# omitting NAs
d_processed <- na.omit(d_processed)
# computing correlation between gender and age
cor( d_processed$gender , d_processed$age_std )
# composing the data list. NAs have been omitted during pre-processing
data_list_2 <- list(
survived = d_processed$survived ,
age_std = d_processed$age_std ,
gen_class_index = d_processed$gen_class_index ,
gender = d_processed$gender,
class = d_processed$class
)
# fitting logistic regression models with interaction
# moderate priors
m2.1 <- ulam(
alist( survived ~ dbinom( 1 , p ) ,
logit(p) <- a[gen_class_index] + b[gen_class_index] * age_std ,
a[gen_class_index] ~ dnorm( 0 , 0.5 ) ,
b[gen_class_index] ~ dnorm( 0 , 0.5 )
) , data = data_list_2 , log_lik = TRUE )
# narrow priors
m2.2 <- ulam(
alist( survived ~ dbinom( 1 , p ) ,
logit(p) <- a[gen_class_index] + b[gen_class_index] * age_std ,
a[gen_class_index] ~ dnorm( 0 , 0.1 ) ,
b[gen_class_index] ~ dnorm( 0 , 0.1 )
) , data = data_list_2 , log_lik = TRUE )
# wide priors
m2.3 <- ulam(
alist( survived ~ dbinom( 1 , p ) ,
logit(p) <- a[gen_class_index] + b[gen_class_index] * age_std ,
a[gen_class_index] ~ dnorm( 0 , 1 ) ,
b[gen_class_index] ~ dnorm( 0 , 1 )
) , data = data_list_2 , log_lik = TRUE )
# very wide priors
m2.4 <- ulam(
alist( survived ~ dbinom( 1 , p ) ,
logit(p) <- a[gen_class_index] + b[gen_class_index] * age_std ,
a[gen_class_index] ~ dnorm( 0 , 5 ) ,
b[gen_class_index] ~ dnorm( 0 , 5 )
) , data = data_list_2 , log_lik = TRUE )
compare( m2.1 , m2.2 , m2.3 , m2.4 )
plot( compare( m2.1 , m2.2 , m2.3 , m2.4 ) )
# moderate priors with m1.1
m3.1 <- ulam(
alist( survived ~ dbinom( 1 , p ) ,
logit(p) <- b_c[class] + b_g[gender] + b_a*age_std ,
b_c[class] ~ dnorm( 0 , 0.5 ) ,
b_g[gender] ~ dnorm( 0 , 0.5 ) ,
b_a ~ dnorm( 0 , 0.5 )
) , data = data_list_2 , log_lik = TRUE )
# narrow priors
m3.2 <- ulam(
alist( survived ~ dbinom( 1 , p ) ,
logit(p) <- b_c[class] + b_g[gender] + b_a*age_std ,
b_c[class] ~ dnorm( 0 , 0.1 ) ,
b_g[gender] ~ dnorm( 0 , 0.1 ) ,
b_a ~ dnorm( 0 , 0.5 )
) , data = data_list_2 , log_lik = TRUE )
# wide priors
m3.3 <- ulam(
alist( survived ~ dbinom( 1 , p ) ,
logit(p) <- b_c[class] + b_g[gender] + b_a*age_std ,
b_c[class] ~ dnorm( 0 , 1 ) ,
b_g[gender] ~ dnorm( 0 , 1 ) ,
b_a ~ dnorm( 0 , 0.5 )
) , data = data_list_2 , log_lik = TRUE )
compare( m3.1 , m3.2 , m3.3 )
plot( compare( m3.1 , m3.2 , m3.3 ) )
compare( m3.3 , m2.3 )
plot( compare( m3.3 , m2.3 ) )
rethinking::postcheck( m2.1 )
type <- c("abstract, addendum, article, book, bookreview, briefreport,
casereport, comment, commentary, communication, conferenceproceedings,
correction, conferencereport, entry, expressionofconcern, extendedabstract,
datadescriptor, editorial, essay, erratum, hypothesis, interestingimage,
obituary, opinion, projectreport, reply, retraction, review, perspective,
protocol, shortnote, studyprotocol, systematicreview, supfile,
technicalnote, viewpoint, guidelines, registeredreport, tutorial")
knitr::kable(rticles::string_to_table(type, 3),
col.names = NULL, format = "latex", booktab = TRUE,
caption = "MDPI article types.")
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
pacman::p_load(tidyverse, ggnewscale)
theme_set(theme_classic())
#set colors
adt_col <- "green"
long_col <- "red"
medium_col <- "skyblue"
short_col = "violet"
strat_colors <- c("ADT" = adt_col, "Long" = long_col, "Medium" = medium_col, "Short" = short_col)
contrast_colors <- c("long_vs_adt" = long_col, "medium_vs_adt" = medium_col, "short_vs_adt" = short_col)
#print densities
source("sim_lengths_densities_full.R")
type <- c("abstract, addendum, article, book, bookreview, briefreport,
casereport, comment, commentary, communication, conferenceproceedings,
correction, conferencereport, entry, expressionofconcern, extendedabstract,
datadescriptor, editorial, essay, erratum, hypothesis, interestingimage,
obituary, opinion, projectreport, reply, retraction, review, perspective,
protocol, shortnote, studyprotocol, systematicreview, supfile,
technicalnote, viewpoint, guidelines, registeredreport, tutorial")
knitr::kable(rticles::string_to_table(type, 3),
col.names = NULL, format = "latex", booktab = TRUE,
caption = "MDPI article types.")
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
pacman::p_load(tidyverse, ggnewscale)
theme_set(theme_classic())
#set colors
adt_col <- "green"
long_col <- "red"
medium_col <- "skyblue"
short_col = "violet"
strat_colors <- c("ADT" = adt_col, "Long" = long_col, "Medium" = medium_col, "Short" = short_col)
contrast_colors <- c("long_vs_adt" = long_col, "medium_vs_adt" = medium_col, "short_vs_adt" = short_col)
#print densities
source("sim_lengths_densities_full.R")
plot +
#set color scheme so that long _vs_adt is green
scale_fill_manual(values = strat_colors) +
scale_color_manual(values = strat_colors)
source("contrasted_sim_lengths_.R")
plot +
scale_fill_manual(values = contrast_colors) +
scale_color_manual(values = contrast_colors)
source("contrasted_sim_length_max_horizon.R")
plot +
scale_fill_manual(values = contrast_colors) +
scale_color_manual(values = contrast_colors)
source("few_time_steps_res_beliefs.R")
plot
source("sim_run_example.R")
plot
source("resistance_beliefs_plot.R")
plot
source("single_model_trajectories plot.R")
plot
source("~/Desktop/Socult Exam/R/single_run_best policy.R", echo=TRUE)
source("~/Desktop/Socult Exam/R/single_run_overall_fep_policies.R", echo=TRUE)
source("~/Desktop/Socult Exam/R/single_run_overall_fep_policies.R", echo=TRUE)
source("~/Desktop/Socult Exam/R/single_run_best policy.R", echo=TRUE)
head(fep_ex_df)
View(fep_ex_df)
View(expected_states_long)
source("~/Desktop/Socult Exam/R/single_run_best policy.R", echo=TRUE)
source("~/Desktop/Socult Exam/R/single_run_best policy.R", echo=TRUE)
source("~/Desktop/Socult Exam/R/FEPcomponents.R", echo=TRUE)
source("~/Desktop/Socult Exam/R/FEPcomponents.R", echo=TRUE)
View(single_trial_full_data)
View(single_trial_full_data)
source("~/Desktop/Socult Exam/R/FEPcomponents.R", echo=TRUE)
source("~/Desktop/Socult Exam/R/FEPcomponents.R", echo=TRUE)
source("~/Desktop/Socult Exam/R/FEPcomponents.R", echo=TRUE)
source("~/Desktop/Socult Exam/R/FEPcomponents.R", echo=TRUE)
source("~/Desktop/Socult Exam/R/FEPcomponents.R", echo=TRUE)
source("~/Desktop/Socult Exam/R/FEPcomponents.R", echo=TRUE)
source("~/Desktop/Socult Exam/R/FEPcomponents.R", echo=TRUE)
source("~/Desktop/Socult Exam/R/FEPcomponents.R", echo=TRUE)
source("~/Desktop/Socult Exam/R/FEPcomponents.R", echo=TRUE)
source("~/Desktop/Socult Exam/R/FEPcomponents.R", echo=TRUE)
source("~/Desktop/Socult Exam/R/FEPcomponents.R", echo=TRUE)
source("~/Desktop/Socult Exam/R/FEPcomponents.R", echo=TRUE)
source("~/Desktop/Socult Exam/R/FEPcomponents.R", echo=TRUE)
source("~/Desktop/Socult Exam/R/FEPcomponents.R", echo=TRUE)
source("~/Desktop/Socult Exam/R/FEPcomponents.R", echo=TRUE)
source("~/Desktop/Socult Exam/R/FEPcomponents.R", echo=TRUE)
source("~/Desktop/Socult Exam/R/FEPcomponents.R", echo=TRUE)
source("~/Desktop/Socult Exam/R/FEPcomponents.R", echo=TRUE)
source("~/Desktop/Socult Exam/R/FEPcomponents.R", echo=TRUE)
setwd("~/Desktop/Socult Exam/R")
setwd("~/Desktop/Socult Exam/R")
source("~/Desktop/Socult Exam/R/FEPcomponents.R", echo=TRUE)
source("~/Desktop/Socult Exam/R/FEPcomponents.R", echo=TRUE)
type <- c("abstract, addendum, article, book, bookreview, briefreport,
casereport, comment, commentary, communication, conferenceproceedings,
correction, conferencereport, entry, expressionofconcern, extendedabstract,
datadescriptor, editorial, essay, erratum, hypothesis, interestingimage,
obituary, opinion, projectreport, reply, retraction, review, perspective,
protocol, shortnote, studyprotocol, systematicreview, supfile,
technicalnote, viewpoint, guidelines, registeredreport, tutorial")
knitr::kable(rticles::string_to_table(type, 3),
col.names = NULL, format = "latex", booktab = TRUE,
caption = "MDPI article types.")
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
pacman::p_load(tidyverse, ggnewscale)
theme_set(theme_classic())
#set colors
adt_col <- "green"
long_col <- "red"
medium_col <- "skyblue"
short_col = "violet"
strat_colors <- c("ADT" = adt_col, "Long" = long_col, "Medium" = medium_col, "Short" = short_col)
contrast_colors <- c("long_vs_adt" = long_col, "medium_vs_adt" = medium_col, "short_vs_adt" = short_col)
#print densities
source("sim_lengths_densities_full.R")
plot +
#set color scheme so that long _vs_adt is green
scale_fill_manual(values = strat_colors) +
scale_color_manual(values = strat_colors)
source("contrasted_sim_lengths_.R")
plot +
scale_fill_manual(values = contrast_colors) +
scale_color_manual(values = contrast_colors)
source("contrasted_sim_length_max_horizon.R")
plot +
scale_fill_manual(values = contrast_colors) +
scale_color_manual(values = contrast_colors)
source("few_time_steps_res_beliefs.R")
plot
source("sim_run_example.R")
plot
source("resistance_beliefs_plot.R")
plot
source("single_model_trajectories plot.R")
plot
source("single_run_best_policy.R")
source("/single_run_best policy.R")
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
knitr::opts_knit$set(root.dir = rprojroot::find_rstudio_root_file())
# set the directory to visualizations folder
pacman::p_load(tidyverse, ggnewscale)
theme_set(theme_classic())
#set colors
adt_col <- "green"
long_col <- "red"
medium_col <- "skyblue"
short_col = "violet"
strat_colors <- c("ADT" = adt_col, "Long" = long_col, "Medium" = medium_col, "Short" = short_col)
contrast_colors <- c("long_vs_adt" = long_col, "medium_vs_adt" = medium_col, "short_vs_adt" = short_col)
#print densities
source("sim_lengths_densities_full.R")
plot +
#set color scheme so that long _vs_adt is green
scale_fill_manual(values = strat_colors) +
scale_color_manual(values = strat_colors)
source("contrasted_sim_lengths_.R")
plot +
scale_fill_manual(values = contrast_colors) +
scale_color_manual(values = contrast_colors)
source("contrasted_sim_length_max_horizon.R")
plot +
scale_fill_manual(values = contrast_colors) +
scale_color_manual(values = contrast_colors)
source("few_time_steps_res_beliefs.R")
plot
source("sim_run_example.R")
plot
source("resistance_beliefs_plot.R")
plot
source("single_model_trajectories plot.R")
plot
source("single_run_best policy.R")
source("single_run_best policy.R")
plot
source("single_run_overall_fep_policies.R")
source("single_run_overall_fep_policies.R")
plot
source("FEPcomponents.R")
source("FEPcomponents.R")
plot
source("~/Desktop/Socult Exam/R/single_run_best policy.R", echo=TRUE)
source("FEPcomponents.R")
plot
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
knitr::opts_knit$set(root.dir = rprojroot::find_rstudio_root_file())
# set the directory to visualizations folder
pacman::p_load(tidyverse, ggnewscale)
theme_set(theme_classic())
#set colors
adt_col <- "green"
long_col <- "red"
medium_col <- "skyblue"
short_col = "violet"
strat_colors <- c("ADT" = adt_col, "Long" = long_col, "Medium" = medium_col, "Short" = short_col)
contrast_colors <- c("long_vs_adt" = long_col, "medium_vs_adt" = medium_col, "short_vs_adt" = short_col)
#print densities
source("sim_lengths_densities_full.R")
plot +
#set color scheme so that long _vs_adt is green
scale_fill_manual(values = strat_colors) +
scale_color_manual(values = strat_colors)
source("contrasted_sim_lengths_.R")
plot +
scale_fill_manual(values = contrast_colors) +
scale_color_manual(values = contrast_colors)
source("contrasted_sim_length_max_horizon.R")
plot +
scale_fill_manual(values = contrast_colors) +
scale_color_manual(values = contrast_colors)
source("few_time_steps_res_beliefs.R")
plot
source("sim_run_example.R")
plot
source("resistance_beliefs_plot.R")
plot
source("single_model_trajectories plot.R")
plot
source("single_run_best policy.R")
plot
source("single_run_overall_fep_policies.R")
plot
source("FEPcomponents.R")
plot
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
knitr::opts_knit$set(root.dir = rprojroot::find_rstudio_root_file())
# set the directory to visualizations folder
pacman::p_load(tidyverse, ggnewscale)
theme_set(theme_classic())
#set colors
adt_col <- "green"
long_col <- "red"
medium_col <- "skyblue"
short_col = "violet"
strat_colors <- c("ADT" = adt_col, "Long" = long_col, "Medium" = medium_col, "Short" = short_col)
contrast_colors <- c("long_vs_adt" = long_col, "medium_vs_adt" = medium_col, "short_vs_adt" = short_col)
#print densities
source("sim_lengths_densities_full.R")
plot +
#set color scheme so that long _vs_adt is green
scale_fill_manual(values = strat_colors) +
scale_color_manual(values = strat_colors)
source("contrasted_sim_lengths_.R")
plot +
scale_fill_manual(values = contrast_colors) +
scale_color_manual(values = contrast_colors)
source("contrasted_sim_length_max_horizon.R")
plot +
scale_fill_manual(values = contrast_colors) +
scale_color_manual(values = contrast_colors)
source("few_time_steps_res_beliefs.R")
plot
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
knitr::opts_knit$set(root.dir = rprojroot::find_rstudio_root_file())
# set the directory to visualizations folder
pacman::p_load(tidyverse, ggnewscale)
theme_set(theme_classic())
#set colors
adt_col <- "green"
long_col <- "red"
medium_col <- "skyblue"
short_col = "violet"
strat_colors <- c("ADT" = adt_col, "Long" = long_col, "Medium" = medium_col, "Short" = short_col)
contrast_colors <- c("long_vs_adt" = long_col, "medium_vs_adt" = medium_col, "short_vs_adt" = short_col)
#print densities
source("sim_lengths_densities_full.R")
plot +
#set color scheme so that long _vs_adt is green
scale_fill_manual(values = strat_colors) +
scale_color_manual(values = strat_colors)
source("contrasted_sim_lengths_.R")
plot +
scale_fill_manual(values = contrast_colors) +
scale_color_manual(values = contrast_colors)
source("contrasted_sim_length_max_horizon.R")
plot +
scale_fill_manual(values = contrast_colors) +
scale_color_manual(values = contrast_colors)
source("few_time_steps_res_beliefs.R")
plot
View(single_trial_resistance_beliefs)
source("few_time_steps_res_beliefs.R")
plot
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
knitr::opts_knit$set(root.dir = rprojroot::find_rstudio_root_file())
# set the directory to visualizations folder
pacman::p_load(tidyverse, ggnewscale)
theme_set(theme_classic())
#set colors
adt_col <- "green"
long_col <- "red"
medium_col <- "skyblue"
short_col = "violet"
strat_colors <- c("ADT" = adt_col, "Long" = long_col, "Medium" = medium_col, "Short" = short_col)
contrast_colors <- c("long_vs_adt" = long_col, "medium_vs_adt" = medium_col, "short_vs_adt" = short_col)
#print densities
source("sim_lengths_densities_full.R")
plot +
#set color scheme so that long _vs_adt is green
scale_fill_manual(values = strat_colors) +
scale_color_manual(values = strat_colors)
source("contrasted_sim_lengths_.R")
plot +
scale_fill_manual(values = contrast_colors) +
scale_color_manual(values = contrast_colors)
source("contrasted_sim_length_max_horizon.R")
plot +
scale_fill_manual(values = contrast_colors) +
scale_color_manual(values = contrast_colors)
source("few_time_steps_res_beliefs.R")
plot
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
knitr::opts_knit$set(root.dir = rprojroot::find_rstudio_root_file())
# set the directory to visualizations folder
pacman::p_load(tidyverse, ggnewscale)
theme_set(theme_classic())
#set colors
adt_col <- "green"
long_col <- "red"
medium_col <- "skyblue"
short_col = "violet"
strat_colors <- c("ADT" = adt_col, "Long" = long_col, "Medium" = medium_col, "Short" = short_col)
contrast_colors <- c("long_vs_adt" = long_col, "medium_vs_adt" = medium_col, "short_vs_adt" = short_col)
#print densities
source("sim_lengths_densities_full.R")
plot +
#set color scheme so that long _vs_adt is green
scale_fill_manual(values = strat_colors) +
scale_color_manual(values = strat_colors)
source("contrasted_sim_lengths_.R")
plot +
scale_fill_manual(values = contrast_colors) +
scale_color_manual(values = contrast_colors)
source("contrasted_sim_length_max_horizon.R")
plot +
scale_fill_manual(values = contrast_colors) +
scale_color_manual(values = contrast_colors)
source("few_time_steps_res_beliefs.R")
plot
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
knitr::opts_knit$set(root.dir = rprojroot::find_rstudio_root_file())
# set the directory to visualizations folder
pacman::p_load(tidyverse, ggnewscale)
theme_set(theme_classic())
#set colors
adt_col <- "green"
long_col <- "red"
medium_col <- "skyblue"
short_col = "violet"
strat_colors <- c("ADT" = adt_col, "Long" = long_col, "Medium" = medium_col, "Short" = short_col)
contrast_colors <- c("long_vs_adt" = long_col, "medium_vs_adt" = medium_col, "short_vs_adt" = short_col)
#print densities
source("sim_lengths_densities_full.R")
plot +
#set color scheme so that long _vs_adt is green
scale_fill_manual(values = strat_colors) +
scale_color_manual(values = strat_colors)
source("contrasted_sim_lengths_.R")
plot +
scale_fill_manual(values = contrast_colors) +
scale_color_manual(values = contrast_colors)
source("contrasted_sim_length_max_horizon.R")
plot +
scale_fill_manual(values = contrast_colors) +
scale_color_manual(values = contrast_colors)
source("few_time_steps_res_beliefs.R")
plot
source("sim_run_example.R")
plot
source("resistance_beliefs_plot.R")
plot
source("single_model_trajectories plot.R")
plot
source("single_run_best policy.R")
plot
source("single_run_overall_fep_policies.R")
plot
source("FEPcomponents.R")
plot
#print densities
source("sim_lengths_densities_full.R")
plot +
#set color scheme so that long _vs_adt is green
scale_fill_manual(values = strat_colors) +
scale_color_manual(values = strat_colors)
